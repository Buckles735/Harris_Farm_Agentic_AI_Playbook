<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Harris Farm ‚Äî Workforce Scheduling & Optimisation Agent</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap');
  :root{--dg:#1B4332;--mg:#2D6A4F;--lg:#40916C;--ac:#52B788;--go:#D4A843;--ow:#F5F7F0;--cr:#EDF2E4;--dt:#1A1A2E;--mu:#5A6B5D;--cb:#FFF;--rd:#E74C3C;--or:#F39C12;--bl:#3498DB}
  *{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:var(--ow);color:var(--dt);min-height:100vh}
  .app{display:flex;height:100vh}.sidebar{width:250px;background:var(--dg);color:#fff;display:flex;flex-direction:column;flex-shrink:0}
  .sidebar-header{padding:18px;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-header h1{font-family:'Playfair Display',serif;font-size:16px}.sidebar-header .sub{font-size:10px;color:var(--ac);text-transform:uppercase;letter-spacing:.5px;margin-top:2px}
  .nav-section{padding:6px 18px;font-size:9px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.35);margin-top:14px}
  .nav-item{display:flex;align-items:center;gap:8px;padding:9px 18px;cursor:pointer;font-size:12px;color:rgba(255,255,255,.65);transition:.15s;border-left:3px solid transparent}
  .nav-item:hover{background:rgba(255,255,255,.06);color:#fff}.nav-item.active{background:rgba(82,183,136,.15);color:var(--ac);border-left-color:var(--ac);font-weight:500}
  .main{flex:1;display:flex;flex-direction:column;overflow:hidden}
  .topbar{background:#fff;border-bottom:1px solid #e0e5d8;padding:12px 24px;display:flex;align-items:center;justify-content:space-between}
  .topbar h2{font-family:'Playfair Display',serif;font-size:18px;color:var(--dg)}
  .topbar-right{display:flex;gap:8px;align-items:center}
  .btn{padding:6px 14px;border-radius:5px;border:none;cursor:pointer;font-size:11px;font-weight:500;transition:.15s;display:inline-flex;align-items:center;gap:5px}
  .btn-p{background:var(--ac);color:#fff}.btn-p:hover{background:var(--lg)}.btn-o{background:transparent;border:1px solid #c8d0c0;color:var(--mu)}.btn-o:hover{border-color:var(--ac)}
  select.sel{padding:6px 10px;border:1px solid #c8d0c0;border-radius:5px;font-size:11px;background:#fff}
  .content{flex:1;overflow-y:auto;padding:20px 24px}
  .grid4{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
  .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:20px}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px}
  .card{background:#fff;border-radius:10px;padding:16px;border:1px solid #e0e5d8;position:relative;overflow:hidden}
  .card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px}
  .card.g::before{background:var(--ac)}.card.y::before{background:var(--go)}.card.r::before{background:var(--rd)}.card.b::before{background:var(--bl)}
  .card-label{font-size:10px;color:var(--mu);text-transform:uppercase;letter-spacing:.4px;margin-bottom:4px}
  .card-val{font-family:'Playfair Display',serif;font-size:26px;font-weight:700;color:var(--dg)}
  .card-ch{font-size:10px;margin-top:3px}.up{color:var(--ac)}.dn{color:var(--rd)}
  .panel{background:#fff;border-radius:10px;border:1px solid #e0e5d8;overflow:hidden;margin-bottom:16px}
  .panel-h{padding:12px 16px;border-bottom:1px solid #e0e5d8;display:flex;align-items:center;justify-content:space-between}
  .panel-t{font-weight:600;font-size:13px;color:var(--dg)}.panel-b{padding:14px 16px}
  .row{display:flex;align-items:flex-start;gap:10px;padding:9px 0;border-bottom:1px solid #f0f2ec}.row:last-child{border-bottom:none}
  .dot{width:6px;height:6px;border-radius:50%;margin-top:5px;flex-shrink:0}.dot.h{background:var(--rd)}.dot.m{background:var(--or)}.dot.l{background:var(--ac)}
  .row-c{flex:1}.row-t{font-size:12px;font-weight:500}.row-m{font-size:10px;color:var(--mu);margin-top:2px}
  .badge{font-size:9px;padding:2px 7px;border-radius:3px;font-weight:500;white-space:nowrap}
  .b-auto{background:#e8f5e9;color:var(--lg)}.b-review{background:#fef3e0;color:var(--or)}.b-alert{background:#fde8e8;color:var(--rd)}.b-pending{background:#e3f2fd;color:var(--bl)}
  .alert{background:linear-gradient(135deg,#e8f5e9 0%,#fef3e0 100%);border:1px solid #c8e6c9;border-radius:8px;padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;gap:10px}
  .alert-icon{font-size:18px}.alert-c h4{font-size:12px;color:var(--dt)}.alert-c p{font-size:11px;color:var(--mu);margin-top:2px}
  .alert-a{margin-left:auto;display:flex;gap:6px}
  .back-link{display:inline-flex;align-items:center;gap:4px;font-size:11px;color:var(--mu);text-decoration:none;margin-bottom:12px}.back-link:hover{color:var(--dg)}
  .status-dot{display:inline-block;width:7px;height:7px;border-radius:50%;background:var(--ac);margin-right:4px;animation:pulse 2s infinite}
  @keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

  /* Roster Grid */
  .roster-grid{display:grid;grid-template-columns:120px repeat(7,1fr);gap:8px;margin-bottom:16px;background:#fff;padding:12px;border-radius:10px;border:1px solid #e0e5d8;overflow-x:auto}
  .roster-cell{background:#f9faf7;border:1px solid #e0e5d8;border-radius:6px;padding:8px;font-size:10px;text-align:center;min-height:60px;display:flex;flex-direction:column;justify-content:center}
  .roster-cell.header{background:var(--cr);font-weight:600;color:var(--dg);border-color:#d4dcc8}
  .roster-cell.name{font-weight:500;text-align:left;background:#fff;border:1px solid #e0e5d8}
  .shift-produce{background:#e8f5e9;border:1px solid #c8e6c9;color:var(--lg)}.shift-deli{background:#fef3e0;border:1px solid #ffe0b2;color:var(--or)}.shift-checkout{background:#e3f2fd;border:1px solid #bbdefb;color:var(--bl)}.shift-admin{background:#f3e5f5;border:1px solid #e1bee7;color:#8e24aa}.shift-off{background:#f5f5f5;color:#999;border:1px solid #e0e0e0}
  .shift-time{font-size:9px;font-weight:600}.shift-dept{font-size:8px;color:rgba(0,0,0,.6)}

  /* Compliance Table */
  .comp-table{width:100%;border-collapse:collapse;font-size:11px}
  .comp-table th{text-align:left;padding:8px 10px;background:var(--cr);color:var(--dg);font-weight:600;font-size:10px;text-transform:uppercase;letter-spacing:.3px}
  .comp-table td{padding:8px 10px;border-bottom:1px solid #f0f2ec}
  .comp-table tr:hover{background:#f8faf5}
  .progress-bar{width:100%;height:6px;background:#e0e5d8;border-radius:3px;overflow:hidden;margin:4px 0}
  .progress-fill{height:100%;border-radius:3px;transition:.3s}
  .progress-fill.good{background:var(--ac)}.progress-fill.warn{background:var(--or)}.progress-fill.bad{background:var(--rd)}

  /* Forecast Comparison */
  .forecast-row{display:grid;grid-template-columns:100px 1fr 1fr 1fr;gap:12px;align-items:center;padding:10px;border:1px solid #e0e5d8;border-radius:6px;margin-bottom:8px;background:#fff}
  .forecast-store{font-weight:600;color:var(--dg);font-size:11px}
  .forecast-fte{display:flex;align-items:center;gap:8px}.fte-current{background:var(--bl);color:#fff;padding:4px 8px;border-radius:4px;font-size:10px;font-weight:600}.fte-recommended{background:var(--ac);color:#fff;padding:4px 8px;border-radius:4px;font-size:10px;font-weight:600}.fte-diff{font-size:9px;color:var(--mu)}

  @media(max-width:900px){.sidebar{display:none}.grid4,.grid3{grid-template-columns:repeat(2,1fr)}.grid2{grid-template-columns:1fr}.roster-grid{grid-template-columns:80px repeat(3,1fr)}}
</style>
</head>
<body>
<div class="app">
  <div class="sidebar">
    <div class="sidebar-header"><h1>Harris Farm</h1><div class="sub">Workforce Scheduling Agent</div></div>
    <div class="nav-section">Scheduling</div>
    <div class="nav-item active" onclick="showV('overview')">üìä Overview</div>
    <div class="nav-item" onclick="showV('roster')">üìÖ Roster View</div>
    <div class="nav-item" onclick="showV('swaps')">üîÑ Shift Swaps</div>
    <div class="nav-section">Compliance</div>
    <div class="nav-item" onclick="showV('compliance')">‚öñÔ∏è Fair Work Compliance</div>
    <div class="nav-section">Planning</div>
    <div class="nav-item" onclick="showV('forecasting')">üîÆ Demand Forecasting</div>
    <div class="nav-section">Links</div>
    <a href="/prototype.html" class="nav-item" style="text-decoration:none;color:inherit">üè† Command Centre</a>
    <a href="/" class="nav-item" style="text-decoration:none;color:inherit">‚Üê Back to Hub</a>
    <div style="margin-top:auto;padding:14px 18px;border-top:1px solid rgba(255,255,255,.1);font-size:10px;color:rgba(255,255,255,.4)"><span class="status-dot"></span> 3,000+ employees optimised across 38 stores</div>
  </div>
  <div class="main">
    <div class="topbar">
      <h2 id="vTitle">Workforce Scheduling Dashboard</h2>
      <div class="topbar-right">
        <select class="sel" onchange="updateStore(this.value)"><option>All Stores (38)</option><option>Leichhardt (Sydney)</option><option>Drummoyne (Sydney)</option><option>Willoughby (Sydney)</option><option>Miranda (Sydney)</option><option>Redfern (Sydney)</option><option>Brisbane CBD</option></select>
        <select class="sel"><option>This Week</option><option>Next Week</option><option>Next 2 Weeks</option></select>
        <button class="btn btn-o" onclick="this.textContent='‚Üª Refreshing...';setTimeout(()=>this.textContent='‚Üª Refresh',800)">‚Üª Refresh</button>
      </div>
    </div>
    <div class="content">

      <!-- OVERVIEW -->
      <div id="v-overview">
        <div class="alert">
          <span class="alert-icon">‚ö†Ô∏è</span>
          <div class="alert-c"><h4>Understaffing Alert: Miranda Store ‚Äî Saturday Lunch</h4><p>Predicted 850 customers 11am-2pm but only 6 staff rostered (need 8). Agent found compatible swap: Marcus (Checkout) ‚Üî Jenny (Produce, 3pm-9pm). Auto-approval pending.</p></div>
          <div class="alert-a"><button class="btn btn-o" onclick="this.closest('.alert').style.display='none'">Dismiss</button><button class="btn btn-p" onclick="showV('swaps')">Review Swap</button></div>
        </div>
        <div class="grid4">
          <div class="card g"><div class="card-label">Schedule Optimisation Score</div><div class="card-val">94%</div><div class="card-ch up">‚Üë 8% vs. manual</div></div>
          <div class="card y"><div class="card-label">Auto Shift-Swaps (This Week)</div><div class="card-val">23</div><div class="card-ch up">189 total requests</div></div>
          <div class="card b"><div class="card-label">Labour Cost Savings (MTD)</div><div class="card-val">$38K</div><div class="card-ch up">Vs. target $35K</div></div>
          <div class="card g"><div class="card-label">Compliance Score</div><div class="card-val">100%</div><div class="card-ch up">All awards met</div></div>
        </div>

        <div class="grid2">
          <div class="panel">
            <div class="panel-h"><span class="panel-t">ü§ñ Agent Activity Feed</span></div>
            <div class="panel-b">
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Auto-optimised Miranda Saturday roster ‚Äî understaffing risk removed</div><div class="row-m">12 min ago ‚Ä¢ Matched Marcus ‚Üî Jenny swap ‚Ä¢ Fair Work compliant</div></div><span class="badge b-auto">Auto-Approved</span></div>
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Generated 23 shift swap recommendations across 8 stores</div><div class="row-m">45 min ago ‚Ä¢ All matched compatible availability windows</div></div><span class="badge b-auto">Auto-Approved</span></div>
              <div class="row"><div class="dot m"></div><div class="row-c"><div class="row-t">Identified 4 fatigue violations in current schedule (Fair Work)</div><div class="row-m">1 hr ago ‚Ä¢ Rebalancing rest days for James, Sofia, David, Michael</div></div><span class="badge b-review">In Review</span></div>
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Processed payroll forecast for next month ‚Äî total budget $187K</div><div class="row-m">2 hrs ago ‚Ä¢ 8% below budget with optimisations</div></div><span class="badge b-auto">Auto</span></div>
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Weekend rosters locked for all 38 stores (Fair Work audit ready)</div><div class="row-m">3 hrs ago ‚Ä¢ 100% compliance ‚Äî no violations flagged</div></div><span class="badge b-auto">Locked</span></div>
            </div>
          </div>
          <div class="panel">
            <div class="panel-h"><span class="panel-t">üìç Store-Level Summary</span></div>
            <div class="panel-b">
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Leichhardt (Sydney) ‚Äî 48 staff scheduled</div><div class="row-m">All positions filled ‚Ä¢ 2 auto-swaps approved ‚Ä¢ $4.2K labour cost this week</div></div><span class="badge b-auto">OK</span></div>
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Drummoyne (Sydney) ‚Äî 52 staff scheduled</div><div class="row-m">4 auto-swaps approved ‚Ä¢ 100% Fair Work compliant ‚Ä¢ $4.8K labour cost</div></div><span class="badge b-auto">OK</span></div>
              <div class="row"><div class="dot h"></div><div class="row-c"><div class="row-t">Miranda (Sydney) ‚Äî 46 staff scheduled</div><div class="row-m">Saturday understaffing risk flagged ‚Äî 1 swap matched & pending approval</div></div><span class="badge b-review">1 Alert</span></div>
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Willoughby (Sydney) ‚Äî 50 staff scheduled</div><div class="row-m">3 auto-swaps ‚Ä¢ All forecasted peaks covered ‚Ä¢ $4.6K labour cost</div></div><span class="badge b-auto">OK</span></div>
              <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Redfern (Sydney) ‚Äî 44 staff scheduled</div><div class="row-m">High traffic zone ‚Ä¢ 5 auto-swaps ‚Ä¢ All gaps filled ‚Ä¢ $4.1K labour cost</div></div><span class="badge b-auto">OK</span></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ROSTER VIEW -->
      <div id="v-roster" style="display:none">
        <a href="#" class="back-link" onclick="showV('overview');return false">‚Üê Back to overview</a>
        <div class="panel">
          <div class="panel-h"><span class="panel-t">üìÖ Weekly Roster ‚Äî Leichhardt Store (Sample)</span><select class="sel" onchange="updateStore(this.value)"><option>Leichhardt</option><option>Drummoyne</option><option>Miranda</option><option>Willoughby</option><option>Redfern</option></select></div>
          <div class="panel-b">
            <div class="roster-grid">
              <div class="roster-cell header">Staff</div>
              <div class="roster-cell header">Mon</div>
              <div class="roster-cell header">Tue</div>
              <div class="roster-cell header">Wed</div>
              <div class="roster-cell header">Thu</div>
              <div class="roster-cell header">Fri</div>
              <div class="roster-cell header">Sat</div>
              <div class="roster-cell header">Sun</div>

              <div class="roster-cell name">Marcus (Checkout)</div>
              <div class="roster-cell shift-checkout"><div class="shift-time">7am‚Äì3pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">7am‚Äì3pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">2pm‚Äì10pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div><div class="shift-dept"></div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">7am‚Äì3pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout" style="background:#e1bee7;border:1px solid #ce93d8"><div class="shift-time">9am‚Äì5pm</div><div class="shift-dept">üîÑ Swap</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>

              <div class="roster-cell name">Jenny (Produce)</div>
              <div class="roster-cell shift-produce"><div class="shift-time">5am‚Äì1pm</div><div class="shift-dept">Produce</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-produce"><div class="shift-time">5am‚Äì1pm</div><div class="shift-dept">Produce</div></div>
              <div class="roster-cell shift-produce"><div class="shift-time">5am‚Äì1pm</div><div class="shift-dept">Produce</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-produce" style="background:#e1bee7;border:1px solid #ce93d8"><div class="shift-time">3pm‚Äì9pm</div><div class="shift-dept">üîÑ Swap</div></div>

              <div class="roster-cell name">Sofia (Deli)</div>
              <div class="roster-cell shift-deli"><div class="shift-time">10am‚Äì6pm</div><div class="shift-dept">Deli</div></div>
              <div class="roster-cell shift-deli"><div class="shift-time">10am‚Äì6pm</div><div class="shift-dept">Deli</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-deli"><div class="shift-time">10am‚Äì6pm</div><div class="shift-dept">Deli</div></div>
              <div class="roster-cell shift-deli"><div class="shift-time">10am‚Äì6pm</div><div class="shift-dept">Deli</div></div>
              <div class="roster-cell shift-deli"><div class="shift-time">10am‚Äì6pm</div><div class="shift-dept">Deli</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>

              <div class="roster-cell name">Michael (Admin)</div>
              <div class="roster-cell shift-admin"><div class="shift-time">9am‚Äì5pm</div><div class="shift-dept">Admin</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-admin"><div class="shift-time">9am‚Äì5pm</div><div class="shift-dept">Admin</div></div>
              <div class="roster-cell shift-admin"><div class="shift-time">9am‚Äì5pm</div><div class="shift-dept">Admin</div></div>
              <div class="roster-cell shift-admin"><div class="shift-time">9am‚Äì5pm</div><div class="shift-dept">Admin</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>

              <div class="roster-cell name">Priya (Checkout)</div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">2pm‚Äì10pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">2pm‚Äì10pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">2pm‚Äì10pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">2pm‚Äì10pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-checkout"><div class="shift-time">2pm‚Äì10pm</div><div class="shift-dept">Checkout</div></div>
              <div class="roster-cell shift-off"><div class="shift-time">OFF</div></div>
            </div>
            <p style="font-size:10px;color:var(--mu);margin-top:12px"><strong>Legend:</strong> <span style="background:#e8f5e9;padding:2px 6px;border-radius:3px">Produce</span> <span style="background:#fef3e0;padding:2px 6px;border-radius:3px;margin-left:6px">Deli</span> <span style="background:#e3f2fd;padding:2px 6px;border-radius:3px;margin-left:6px">Checkout</span> <span style="background:#f3e5f5;padding:2px 6px;border-radius:3px;margin-left:6px">Admin</span> ‚Ä¢ <span style="color:var(--rd)">üîÑ Swap = Auto-matched shift swap</span> ‚Ä¢ <span style="color:var(--mu)">OFF = Rest day (Fair Work minimum maintained)</span></p>
          </div>
        </div>

        <div class="panel">
          <div class="panel-h"><span class="panel-t">üìä Predicted Foot Traffic Overlay</span></div>
          <div class="panel-b">
            <table class="comp-table">
              <thead><tr><th>Day/Time</th><th>Predicted Customers</th><th>Current Staff</th><th>Recommended</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td><strong>Mon 8am‚Äì12pm</strong></td><td>320 customers</td><td>5</td><td>5</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Mon 12pm‚Äì4pm</strong></td><td>480 customers</td><td>7</td><td>7</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Sat 11am‚Äì2pm</strong></td><td>850 customers</td><td>6</td><td>8</td><td><span class="badge b-alert">Understaffed</span></td></tr>
                <tr><td><strong>Sat 2pm‚Äì6pm</strong></td><td>720 customers</td><td>8</td><td>8</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Sun 9am‚Äì1pm</strong></td><td>650 customers</td><td>7</td><td>7</td><td><span class="badge b-auto">Adequate</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- SHIFT SWAPS -->
      <div id="v-swaps" style="display:none">
        <a href="#" class="back-link" onclick="showV('overview');return false">‚Üê Back to overview</a>
        <div class="grid4">
          <div class="card g"><div class="card-label">Total Requests (This Week)</div><div class="card-val">189</div><div class="card-ch up">47 manual + 142 auto</div></div>
          <div class="card g"><div class="card-label">Auto-Approved Swaps</div><div class="card-val">142</div><div class="card-ch up">75% of all requests</div></div>
          <div class="card b"><div class="card-label">Pending Human Review</div><div class="card-val">5</div><div class="card-ch dn">Cross-department only</div></div>
          <div class="card y"><div class="card-label">Avg. Match Time</div><div class="card-val">2.1s</div><div class="card-ch up">Instant availability check</div></div>
        </div>
        <div class="panel">
          <div class="panel-h"><span class="panel-t">üîÑ Recent Shift Swap Activity</span></div>
          <div class="panel-b">
            <table class="comp-table">
              <thead><tr><th>Employee A</th><th>Original Shift</th><th>Employee B</th><th>New Shift</th><th>Reason</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td>Marcus (Checkout)</td><td>Sat 7am‚Äì3pm</td><td>Jenny (Produce)</td><td>Sat 3pm‚Äì9pm</td><td>Miranda understaffing peak ‚Äî foot traffic 850 customers</td><td><span class="badge b-pending">Pending</span></td></tr>
                <tr><td>David (Deli)</td><td>Fri 2pm‚Äì10pm</td><td>Ahmed (Checkout)</td><td>Fri 10am‚Äì6pm</td><td>David family event ‚Äî compatible skill match</td><td><span class="badge b-auto">Auto-Approved</span></td></tr>
                <tr><td>Sarah (Produce)</td><td>Thu 5am‚Äì1pm</td><td>Lisa (Produce)</td><td>Thu 10am‚Äì6pm</td><td>Sarah doctor appointment ‚Äî same department swap</td><td><span class="badge b-auto">Auto-Approved</span></td></tr>
                <tr><td>James (Admin)</td><td>Wed 9am‚Äì5pm</td><td>Patricia (Admin)</td><td>Wed 9am‚Äì5pm</td><td>Patricia voluntary swap ‚Äî identical shift</td><td><span class="badge b-auto">Auto-Approved</span></td></tr>
                <tr><td>Priya (Checkout)</td><td>Sun 1pm‚Äì9pm</td><td>Rahul (Checkout)</td><td>Sun 2pm‚Äì10pm</td><td>Priya school pickup ‚Äî same department, minimal shift change</td><td><span class="badge b-auto">Auto-Approved</span></td></tr>
                <tr><td>Sofia (Deli)</td><td>Fri 10am‚Äì6pm</td><td>Michael (Admin)</td><td>Fri 2pm‚Äì10pm</td><td>Cross-department request ‚Äî requires manager approval</td><td><span class="badge b-review">In Review</span></td></tr>
                <tr><td>Kumar (Produce)</td><td>Sat 5am‚Äì1pm</td><td>Alex (Produce)</td><td>Sat 10am‚Äì6pm</td><td>Kumar casual sport event ‚Äî compatible availability</td><td><span class="badge b-auto">Auto-Approved</span></td></tr>
                <tr><td>Emma (Checkout)</td><td>Thu 2pm‚Äì10pm</td><td>Tom (Checkout)</td><td>Thu 7am‚Äì3pm</td><td>Emma Fair Work rest day violation prevention ‚Äî rebalance</td><td><span class="badge b-auto">Auto-Approved</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- COMPLIANCE -->
      <div id="v-compliance" style="display:none">
        <a href="#" class="back-link" onclick="showV('overview');return false">‚Üê Back to overview</a>
        <div class="grid3">
          <div class="card g"><div class="card-label">Break Compliance</div><div class="card-val">100%</div><div class="card-ch up">All unpaid breaks logged</div></div>
          <div class="card g"><div class="card-label">Overtime Tracking</div><div class="card-val">0h excess</div><div class="card-ch up">All shifts within award limits</div></div>
          <div class="card g"><div class="card-label">Minimum Hours Adherence</div><div class="card-val">100%</div><div class="card-ch up">All guaranteed hours met</div></div>
        </div>
        <div class="panel">
          <div class="panel-h"><span class="panel-t">‚öñÔ∏è Fair Work Award Compliance Dashboard</span></div>
          <div class="panel-b">
            <div class="row">
              <div class="row-c">
                <div class="row-t">Rest Days Between Shifts (National Retail Award)</div>
                <div class="row-m">Minimum 8 hours between shifts required ‚Ä¢ Agent enforces automatically</div>
              </div>
              <div style="min-width:200px">
                <div class="progress-bar"><div class="progress-fill good" style="width:100%"></div></div>
                <div style="font-size:9px;color:var(--mu)">100% compliant (3,000 employees)</div>
              </div>
            </div>
            <div class="row">
              <div class="row-c">
                <div class="row-t">Maximum Hours Per Week (38-40 hours ordinary)</div>
                <div class="row-m">Retail award: 38 hrs/week ordinary time max ‚Ä¢ Overtime tracked separately</div>
              </div>
              <div style="min-width:200px">
                <div class="progress-bar"><div class="progress-fill good" style="width:100%"></div></div>
                <div style="font-size:9px;color:var(--mu)">100% compliant</div>
              </div>
            </div>
            <div class="row">
              <div class="row-c">
                <div class="row-t">Fatigue Management (No Back-to-Back Closing Shifts)</div>
                <div class="row-m">Maximum 2 consecutive evening shifts before rest day</div>
              </div>
              <div style="min-width:200px">
                <div class="progress-bar"><div class="progress-fill good" style="width:100%"></div></div>
                <div style="font-size:9px;color:var(--mu)">100% compliant</div>
              </div>
            </div>
            <div class="row">
              <div class="row-c">
                <div class="row-t">Shift Notice Requirements (Fair Work)</div>
                <div class="row-m">Minimum 7 days notice for permanent shifts (exceptions logged)</div>
              </div>
              <div style="min-width:200px">
                <div class="progress-bar"><div class="progress-fill good" style="width:100%"></div></div>
                <div style="font-size:9px;color:var(--mu)">100% compliant</div>
              </div>
            </div>
            <div class="row">
              <div class="row-c">
                <div class="row-t">Penalty Rates & Casual Loading (Retail Award)</div>
                <div class="row-m">Saturdays +25%, Sundays +50%, Public Holidays +100% enforced</div>
              </div>
              <div style="min-width:200px">
                <div class="progress-bar"><div class="progress-fill good" style="width:100%"></div></div>
                <div style="font-size:9px;color:var(--mu)">100% compliant</div>
              </div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-h"><span class="panel-t">üö® Flagged Compliance Items</span></div>
          <div class="panel-b">
            <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">‚úì All 38 stores audit-ready for Fair Work inspection</div><div class="row-m">Last audit: 2 months ago ‚Ä¢ 0 violations found ‚Ä¢ Agent maintains continuous compliance</div></div><span class="badge b-auto">Clear</span></div>
            <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">‚úì Casual employee hours tracked ‚Äî all within award thresholds</div><div class="row-m">No transformation to permanent at risk ‚Ä¢ 847 casual staff monitored</div></div><span class="badge b-auto">Monitored</span></div>
            <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">‚úì Break entitlements auto-logged (30 min unpaid per 6-hour shift)</div><div class="row-m">2,847 breaks processed this week ‚Ä¢ 100% compliance ‚Ä¢ No wage theft risk</div></div><span class="badge b-auto">OK</span></div>
            <div class="row"><div class="dot m"></div><div class="row-c"><div class="row-t">‚ö†Ô∏è 4 employees flagged for fatigue rebalancing (2+ consecutive closing shifts)</div><div class="row-m">James, Sofia, David, Michael ‚Äî next month scheduling will rebalance automatically</div></div><span class="badge b-review">Monitor</span></div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-h"><span class="panel-t">üìö Training Gap Tracker</span></div>
          <div class="panel-b">
            <table class="comp-table">
              <thead><tr><th>Training Type</th><th>Completed</th><th>Due Soon (30 Days)</th><th>Overdue</th><th>Action</th></tr></thead>
              <tbody>
                <tr><td>Food Safety Certification (Level 1)</td><td>2,847/3,000 (95%)</td><td>89</td><td>0</td><td><span class="badge b-auto">On Track</span></td></tr>
                <tr><td>Workplace Safety & Induction</td><td>3,000/3,000 (100%)</td><td>0</td><td>0</td><td><span class="badge b-auto">Complete</span></td></tr>
                <tr><td>EFT Payment Systems (Deli/Meat)</td><td>423/450 (94%)</td><td>18</td><td>0</td><td><span class="badge b-review">Schedule Soon</span></td></tr>
                <tr><td>Customer Service Excellence</td><td>2,950/3,000 (98%)</td><td>40</td><td>0</td><td><span class="badge b-auto">On Track</span></td></tr>
                <tr><td>Diversity & Inclusion (Annual Refresher)</td><td>2,780/3,000 (93%)</td><td>150</td><td>0</td><td><span class="badge b-review">Plan Refresher</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- FORECASTING -->
      <div id="v-forecasting" style="display:none">
        <a href="#" class="back-link" onclick="showV('overview');return false">‚Üê Back to overview</a>
        <div class="grid2">
          <div class="card b"><div class="card-label">Predicted Peak Days (Next 7 Days)</div><div class="card-val">Saturday</div><div class="card-ch up">+28% foot traffic vs average</div></div>
          <div class="card y"><div class="card-label">Recommended Additional FTE</div><div class="card-val">2.5</div><div class="card-ch">Across all Sydney stores</div></div>
        </div>
        <div class="panel">
          <div class="panel-h"><span class="panel-t">üìä Predicted Foot Traffic by Store & Day</span></div>
          <div class="panel-b">
            <div class="forecast-row">
              <div class="forecast-store">Leichhardt</div>
              <div class="forecast-fte">
                <span>Mon: 240 customers</span>
                <span style="font-size:9px;color:var(--mu)">‚Ä¢ Tue: 280 ‚Ä¢ Wed: 320 ‚Ä¢ Thu: 310 ‚Ä¢ Fri: 380 ‚Ä¢ Sat: 580 ‚Ä¢ Sun: 520</span>
              </div>
            </div>
            <div class="forecast-row">
              <div class="forecast-store">Drummoyne</div>
              <div class="forecast-fte">
                <span>Mon: 310 customers</span>
                <span style="font-size:9px;color:var(--mu)">‚Ä¢ Tue: 340 ‚Ä¢ Wed: 360 ‚Ä¢ Thu: 350 ‚Ä¢ Fri: 420 ‚Ä¢ Sat: 650 ‚Ä¢ Sun: 590</span>
              </div>
            </div>
            <div class="forecast-row" style="background:#fde8e8;border-color:#fccccb">
              <div class="forecast-store" style="color:var(--rd)">Miranda</div>
              <div class="forecast-fte">
                <span>Mon: 280 customers</span>
                <span style="font-size:9px;color:var(--rd)">‚Ä¢ Tue: 300 ‚Ä¢ Wed: 340 ‚Ä¢ Thu: 330 ‚Ä¢ Fri: 410 ‚Ä¢ <strong>Sat: 850 ‚ö†Ô∏è</strong> ‚Ä¢ Sun: 620</span>
              </div>
            </div>
            <div class="forecast-row">
              <div class="forecast-store">Willoughby</div>
              <div class="forecast-fte">
                <span>Mon: 270 customers</span>
                <span style="font-size:9px;color:var(--mu)">‚Ä¢ Tue: 290 ‚Ä¢ Wed: 310 ‚Ä¢ Thu: 305 ‚Ä¢ Fri: 370 ‚Ä¢ Sat: 600 ‚Ä¢ Sun: 540</span>
              </div>
            </div>
            <div class="forecast-row">
              <div class="forecast-store">Redfern</div>
              <div class="forecast-fte">
                <span>Mon: 320 customers</span>
                <span style="font-size:9px;color:var(--mu)">‚Ä¢ Tue: 350 ‚Ä¢ Wed: 380 ‚Ä¢ Thu: 370 ‚Ä¢ Fri: 440 ‚Ä¢ Sat: 680 ‚Ä¢ Sun: 620</span>
              </div>
            </div>
            <div class="forecast-row">
              <div class="forecast-store">Brisbane CBD</div>
              <div class="forecast-fte">
                <span>Mon: 400 customers</span>
                <span style="font-size:9px;color:var(--mu)">‚Ä¢ Tue: 420 ‚Ä¢ Wed: 440 ‚Ä¢ Thu: 435 ‚Ä¢ Fri: 500 ‚Ä¢ Sat: 620 ‚Ä¢ Sun: 580</span>
              </div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-h"><span class="panel-t">üë• Recommended FTE Count vs. Current Roster</span></div>
          <div class="panel-b">
            <table class="comp-table">
              <thead><tr><th>Store</th><th>Current FTE</th><th>Recommended FTE</th><th>Peak Period</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td><strong>Leichhardt</strong></td><td><span class="fte-current">7.2</span></td><td><span class="fte-recommended">7.5</span></td><td>Fri‚ÄìSat peak (+0.3 FTE)</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Drummoyne</strong></td><td><span class="fte-current">8.1</span></td><td><span class="fte-recommended">8.4</span></td><td>Fri‚ÄìSat peak (+0.3 FTE)</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Miranda</strong></td><td><span class="fte-current">7.0</span></td><td><span class="fte-recommended">8.2</span></td><td>Sat 11am‚Äì2pm (+1.2 FTE required) ‚ö†Ô∏è</td><td><span class="badge b-alert">Understaffed</span></td></tr>
                <tr><td><strong>Willoughby</strong></td><td><span class="fte-current">7.8</span></td><td><span class="fte-recommended">8.0</span></td><td>Fri‚ÄìSat peak (+0.2 FTE)</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Redfern</strong></td><td><span class="fte-current">6.9</span></td><td><span class="fte-recommended">7.4</span></td><td>Fri‚ÄìSat peak (+0.5 FTE)</td><td><span class="badge b-auto">Adequate</span></td></tr>
                <tr><td><strong>Brisbane CBD</strong></td><td><span class="fte-current">8.5</span></td><td><span class="fte-recommended">8.8</span></td><td>Fri‚ÄìSat peak (+0.3 FTE)</td><td><span class="badge b-auto">Adequate</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="panel">
          <div class="panel-h"><span class="panel-t">üìÖ Agent Forecasting Insights</span></div>
          <div class="panel-b">
            <div class="row"><div class="dot h"></div><div class="row-c"><div class="row-t">üî¥ CRITICAL: Miranda Saturday 11am‚Äì2pm gap requires immediate action</div><div class="row-m">Predicted 850 customers vs. 6 staff (need 8‚Äì9). Agent has matched Marcus ‚Üî Jenny swap. Pending approval will solve +1.2 FTE gap.</div></div><span class="badge b-alert">Action Required</span></div>
            <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Weekend peaks across all stores: +22‚Äì28% vs. weekday average</div><div class="row-m">Saturday typically peaks 11am‚Äì2pm (lunch shoppers, entertainment shopping). Current rosters cover most stores adequately.</div></div><span class="badge b-auto">Planned</span></div>
            <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Redfern store trending +8% foot traffic vs. last month</div><div class="row-m">High-traffic inner-city location. Agent recommends +0.5 FTE for Fri‚ÄìSat peaks. Cost-benefit analysis shows $420 labour benefit.</div></div><span class="badge b-auto">Monitor</span></div>
            <div class="row"><div class="dot m"></div><div class="row-c"><div class="row-t">School holidays (2 weeks) will drive +18% foot traffic across all Sydney stores</div><div class="row-m">Scheduled 7 days away. Agent pre-planning roster adjustments for week 1 of school break.</div></div><span class="badge b-review">Upcoming</span></div>
            <div class="row"><div class="dot l"></div><div class="row-c"><div class="row-t">Brisbane CBD store performing at capacity ‚Äî growth opportunity flagged</div><div class="row-m">Current FTE 8.5 vs recommended 8.8. Low hiring buffer. Recommend reviewing +2 staff headcount for growth.</div></div><span class="badge b-review">Strategic</span></div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
<script>
function showV(v){
  ['overview','roster','swaps','compliance','forecasting'].forEach(x=>{const e=document.getElementById('v-'+x);if(e)e.style.display=x===v?'block':'none'});
  const titles={overview:'Workforce Scheduling Dashboard',roster:'Roster View & Foot Traffic',swaps:'Shift Swap Management',compliance:'Fair Work Compliance',forecasting:'Demand Forecasting & Staffing'};
  document.getElementById('vTitle').textContent=titles[v]||'Dashboard';
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
  const idx={overview:0,roster:1,swaps:2,compliance:3,forecasting:4};
  document.querySelectorAll('.sidebar .nav-item')[idx[v]]?.classList.add('active');
}
function updateStore(store){
  console.log('Store selected:',store);
}
</script>
</body>
</html>
